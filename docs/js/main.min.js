"use strict";const START_WIDTH=50,headerContainer=document.querySelector(".page-header__container"),menu=document.querySelector(".main-nav"),menuOpenButton=document.querySelector(".menu-opener"),menuWrapper=document.querySelector(".main-nav__wrapper"),buttonBefore=document.querySelector("#before"),buttonAfter=document.querySelector("#after"),sliderImage=document.querySelector(".example__image-wrapper"),slider=document.querySelector("#slider"),formInputElements=document.querySelectorAll(".questionnaires__input"),submitButtonElement=document.querySelector(".questionnaires__submit-button");let currentWidth=50;const jsWork=()=>{menuOpenButton.classList.remove("menu-opener--no-js"),menuWrapper.classList.remove("main-nav__wrapper--no-js"),menu.classList.remove("main-nav--no-js"),menuWrapper.classList.add("main-nav__wrapper--hidden"),menu.classList.add("main-nav--hidden"),headerContainer.classList.add("page-header__container--hidden")};menuOpenButton.classList.remove("menu-opener--no-js"),menuWrapper.classList.remove("main-nav__wrapper--no-js"),menu.classList.remove("main-nav--no-js"),menuWrapper.classList.add("main-nav__wrapper--hidden"),menu.classList.add("main-nav--hidden"),headerContainer.classList.add("page-header__container--hidden"),setTimeout((()=>{menuWrapper.classList.contains("main-nav__wrapper--hidden")&&menuWrapper.classList.remove("main-nav__wrapper--hidden"),menu.classList.contains("main-nav--hidden")&&menu.classList.remove("main-nav--hidden"),headerContainer.classList.contains("page-header__container--hidden")&&headerContainer.classList.remove("page-header__container--hidden")}),0);const handleMenuOpening=()=>{menuOpenButton.classList.toggle("menu-opener--active"),menuWrapper.classList.toggle("main-nav__wrapper--open"),menu.classList.toggle("main-nav--open"),headerContainer.classList.toggle("page-header__container--open")};function initMap(){const e=new google.maps.Map(document.querySelector("#map"),{center:new google.maps.LatLng(59.9387165,30.3208587),zoom:window.matchMedia("(max-width: 1439px)").matches?15:16,disableDefaultUI:!0});new google.maps.Marker({position:new google.maps.LatLng(59.9384319,30.3227009),map:e,icon:{url:`${window.matchMedia("(max-width: 767px)").matches?"./img/map-pin":"./img/map-pin_tablet"}${window.devicePixelRatio>1?"@2x.png":".png"}`,scaledSize:window.matchMedia("(max-width: 767px)").matches?new google.maps.Size(57,53):new google.maps.Size(113,106)}})}if(menuOpenButton&&menuOpenButton.addEventListener("click",handleMenuOpening),sliderImage){sliderImage.style.widt=50;const e=()=>{currentWidth>0&&(currentWidth-=1,slider.noUiSlider.set(currentWidth.toFixed(2)),sliderImage.style.width=`${currentWidth}%`)},t=()=>{currentWidth<100&&(currentWidth+=1,slider.noUiSlider.set(currentWidth.toFixed(2)),sliderImage.style.width=`${currentWidth}%`)};buttonAfter.addEventListener("click",e),buttonBefore.addEventListener("click",t),noUiSlider.create(slider,{range:{min:0,max:100},start:50,step:1,connect:"lower"}),slider.noUiSlider.on("update",((e,t,n)=>{currentWidth=n[t],sliderImage.style.width=`${currentWidth}%`}))}const addContactDetailsItemErrorClass=e=>{"mail"!=e.id&&"phone"!=e.id||e.parentNode.classList.add("contact-details__item--error")},removeContactDetailsItemErrorClass=e=>{"mail"!=e.id&&"phone"!=e.id||e.parentNode.classList.remove("contact-details__item--error")},handleValidation=e=>{e.validity.patternMismatch?(e.classList.add("questionnaires__input--error"),e.setCustomValidity("Введите данные в указанном формате."),addContactDetailsItemErrorClass(e)):(e.setCustomValidity(""),e.classList.remove("questionnaires__input--error"),removeContactDetailsItemErrorClass(e)),e.reportValidity()};formInputElements.forEach((e=>{"age"!=e.id&&"comment"!=e.id&&e.addEventListener("input",(()=>{return(t=e).validity.patternMismatch?(t.classList.add("questionnaires__input--error"),t.setCustomValidity("Введите данные в указанном формате."),addContactDetailsItemErrorClass(t)):(t.setCustomValidity(""),t.classList.remove("questionnaires__input--error"),removeContactDetailsItemErrorClass(t)),void t.reportValidity();var t}))}));const onInputCheck=()=>{formInputElements.forEach((e=>{!1===e.checkValidity()&&(e.classList.add("questionnaires__input--error"),addContactDetailsItemErrorClass(e),setTimeout((()=>{e.classList.remove("questionnaires__input--error"),removeContactDetailsItemErrorClass(e)}),2e3))}))};submitButtonElement&&submitButtonElement.addEventListener("click",onInputCheck);